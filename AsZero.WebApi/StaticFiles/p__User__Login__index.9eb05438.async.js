"use strict";(self.webpackChunkstdunit_traces_=self.webpackChunkstdunit_traces_||[]).push([[366],{85371:function(b,p,e){e.r(p),e.d(p,{default:function(){return $}});var I=e(15009),c=e.n(I),E=e(97857),n=e.n(E),M=e(99289),x=e.n(M),N=e(5574),y=e.n(N),U=e(87547),D=e(94149),G=e(24454),z=e(99138),S=e(54761),g=e(66275),F=e(62435),O=e(33557),v=e(5966),R=e(63434),f=e(25778),L=e(9535),l={container:"container___REQAy",lang:"lang___DAjLY",content:"content___IkUx1",icon:"icon___fqAhh",cardnowrap:"cardnowrap___lGEyE","ant-input-suffix":"ant-input-suffix___NYPgS"},s=e(86074),Z=function(m){var d=m.content;return(0,s.jsx)(z.Z,{style:{marginBottom:24},message:d,type:"error",showIcon:!0})},Y=function(){var m=(0,F.useState)({}),d=y()(m,2),P=d[0],Q=d[1],V=(0,F.useState)("catlcard"),T=y()(V,2),t=T[0],W=T[1],A=(0,L.useModel)("@@initialState"),H=A.initialState,J=A.setInitialState,X=function(){var h=x()(c()().mark(function u(o){var i,r,j;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t!="catlcard"){a.next=7;break}return a.next=4,(0,f.MW)(n()(n()({},o),{},{type:t}));case 4:a.t0=a.sent,a.next=10;break;case 7:return a.next=9,(0,f.D_)(n()(n()({},o),{},{type:t}));case 9:a.t0=a.sent;case 10:if(i=a.t0,console.log("received login response: ",i),!i.success){a.next=24;break}return S.ZP.success("\u767B\u5F55\u6210\u529F\uFF01"),a.next=16,(0,f.ts)();case 16:if(r=a.sent,!r.success){a.next=22;break}return j=n()(n()({},H),{},{currentUser:r.data}),a.next=21,J(j);case 21:console.log("\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6210\u529F\uFF0C\u5F53\u524DInitialState\uFF1A",j);case 22:return L.history.push("/"),a.abrupt("return");case 24:console.log(i),Q(i),a.next=31;break;case 28:a.prev=28,a.t1=a.catch(0),S.ZP.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 31:case"end":return a.stop()}},u,null,[[0,28]])}));return function(o){return h.apply(this,arguments)}}(),B=P.status,C=P.type;return(0,s.jsx)("div",{className:l.container,children:(0,s.jsx)("div",{className:l.content,children:(0,s.jsxs)(O.U,{logo:(0,s.jsx)("img",{alt:"logo",src:"/IMG-Circle.png"}),title:"\u8FFD\u6EAF\u4FE1\u606F\u7CFB\u7EDF",subTitle:"\u767B\u5F55",initialValues:{autoLogin:!0},onFinish:function(){var h=x()(c()().mark(function u(o){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,X(o);case 2:case"end":return r.stop()}},u)}));return function(u){return h.apply(this,arguments)}}(),children:[(0,s.jsxs)(g.Z,{activeKey:t,onChange:W,children:[(0,s.jsx)(g.Z.TabPane,{tab:"\u5458\u5DE5\u5237\u5361\u767B\u5F55"},"catlcard"),(0,s.jsx)(g.Z.TabPane,{tab:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"},"account")]}),B==="error"&&C==="account"&&(0,s.jsx)(Z,{content:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"}),t==="account"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(U.Z,{className:l.prefixIcon})},placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}]}),(0,s.jsx)(v.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(D.Z,{className:l.prefixIcon})},placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}]})]}),B==="error"&&C==="mobile"&&(0,s.jsx)(Z,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),t==="catlcard"&&(0,s.jsx)("div",{id:"cardnowrap",children:(0,s.jsx)(v.Z.Password,{fieldProps:{size:"large",prefix:(0,s.jsx)(G.Z,{className:l.prefixIcon})},name:"cardNo",rules:[{required:!0,message:"\u8BF7\u5237\u5361\uFF01"}]})}),(0,s.jsxs)("div",{style:{marginBottom:24},children:[(0,s.jsx)(R.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,s.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]})]})})})},$=Y}}]);
