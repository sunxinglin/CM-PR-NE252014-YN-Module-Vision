"use strict";(self.webpackChunkstdunit_traces_=self.webpackChunkstdunit_traces_||[]).push([[590],{9960:function($,h,a){a.d(h,{D:function(){return D}});var i=a(1413),s=a(97685),o=a(86074),R=a(83945),P=a(94184),E=a.n(P),m=a(62435),g=function(t){if(!t)return 1;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},D=function(t){var e=t.children,O=t.style,I=t.className,A=t.markStyle,T=t.markClassName,d=t.zIndex,l=d===void 0?9:d,n=t.gapX,r=n===void 0?212:n,y=t.gapY,S=y===void 0?222:y,c=t.width,M=c===void 0?120:c,B=t.height,L=B===void 0?64:B,U=t.rotate,Z=U===void 0?-22:U,W=t.image,u=t.content,z=t.offsetLeft,_=t.offsetTop,K=t.fontStyle,p=K===void 0?"normal":K,N=t.fontWeight,k=N===void 0?"normal":N,b=t.fontColor,G=b===void 0?"rgba(0,0,0,.15)":b,H=t.fontSize,F=H===void 0?16:H,Y=t.fontFamily,X=Y===void 0?"sans-serif":Y,at=t.prefixCls,et=(0,m.useContext)(R.ZP.ConfigContext),nt=et.getPrefixCls,w=nt("pro-layout-watermark",at),rt=E()("".concat(w,"-wrapper"),I),ot=E()(w,T),it=(0,m.useState)(""),V=(0,s.Z)(it,2),J=V[0],Q=V[1];return(0,m.useEffect)(function(){var x=document.createElement("canvas"),v=x.getContext("2d"),f=g(v),lt="".concat((r+M)*f,"px"),st="".concat((S+L)*f,"px"),dt=z||r/2,vt=_||S/2;if(x.setAttribute("width",lt),x.setAttribute("height",st),v){v.translate(dt*f,vt*f),v.rotate(Math.PI/180*Number(Z));var ct=M*f,q=L*f;if(W){var C=new Image;C.crossOrigin="anonymous",C.referrerPolicy="no-referrer",C.src=W,C.onload=function(){v.drawImage(C,0,0,ct,q),Q(x.toDataURL())}}else if(u){var tt=Number(F)*f;v.font="".concat(p," normal ").concat(k," ").concat(tt,"px/").concat(q,"px ").concat(X),v.fillStyle=G,Array.isArray(u)?u==null||u.forEach(function(ut,ft){return v.fillText(ut,0,ft*tt)}):v.fillText(u,0,0),Q(x.toDataURL())}}else console.error("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301Canvas")},[r,S,z,_,Z,p,k,M,L,X,G,W,u,F]),(0,o.jsxs)("div",{style:(0,i.Z)({position:"relative"},O),className:rt,children:[e,(0,o.jsx)("div",{className:ot,style:(0,i.Z)((0,i.Z)({zIndex:l,position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundSize:"".concat(r+M,"px"),pointerEvents:"none",backgroundRepeat:"repeat"},J?{backgroundImage:"url('".concat(J,"')")}:{}),A)})]})}},37362:function($,h,a){a.r(h),a.d(h,{default:function(){return T}});var i=a(9960),s=a(9535),o=a(97183),R=a(15009),P=a.n(R),E=a(99289),m=a.n(E),g=a(68508),D=a(97132),j=a(62435),t=a(25778),e=a(86074),O=function(){var d=m()(P()().mark(function l(){var n,r,y;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,t.kS)();case 2:n=s.history.location,r=n.search,y=n.pathname,window.location.pathname!=="/user/login"&&s.history.push("/user/login");case 4:case"end":return c.stop()}},l)}));return function(){return d.apply(this,arguments)}}(),I=function(){var l,n=(0,s.useModel)("@@initialState"),r=n.initialState;return(0,e.jsxs)(g.Z,{mode:"horizontal",theme:"dark",children:[(0,e.jsx)(g.Z.Item,{children:(0,e.jsx)(D.C,{style:{backgroundColor:"orange",verticalAlign:"middle"},size:"large",gap:4,children:(0,e.jsx)("span",{children:r==null||(l=r.currentUser)===null||l===void 0?void 0:l.name})})},1),(0,e.jsx)(g.Z.Item,{onClick:O,children:"\u767B\u51FA"},2)]})},A=I,T=function(){var d,l=(0,s.useModel)("@@initialState"),n=l.initialState,r=n==null||(d=n.currentUser)===null||d===void 0?void 0:d.name;return(0,e.jsx)(i.D,{content:r,children:(0,e.jsxs)(o.Z,{children:[(0,e.jsx)(o.Z.Header,{children:(0,e.jsx)(A,{})}),(0,e.jsx)(s.Outlet,{})]})})}},97183:function($,h,a){var i=a(84321),s=a(7293),o=i.ZP;o.Header=i.h4,o.Footer=i.$_,o.Content=i.VY,o.Sider=s.Z,h.Z=o}}]);
