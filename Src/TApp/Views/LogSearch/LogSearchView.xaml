<UserControl x:Class="TApp.Views.LogSearch.LogSearchView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:TApp.Views.LogSearch"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:rxui="http://reactiveui.net"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  查询表单  -->
        <Border Grid.Row="0"
                Grid.Column="0"
                Grid.ColumnSpan="6"
                Padding="0,0,0,10"
                BorderBrush="LightGray"
                BorderThickness="0,0,0,1">

            <StackPanel Orientation="Horizontal">

                <Label VerticalAlignment="Center"
                       Content="源:"
                       FontSize="14" />
                <TextBox x:Name="txtSearchSource"
                         Width="150"
                         VerticalAlignment="Center" />
                <Label VerticalAlignment="Center"
                       Content="组:"
                       FontSize="14" />
                <TextBox x:Name="txtSearchGroup"
                         Width="150"
                         VerticalAlignment="Center" />

                <Label VerticalAlignment="Center"
                       Content="级别:"
                       FontSize="14" />
                <ComboBox x:Name="ddSearchLevel"
                          Width="120"
                          HorizontalAlignment="Center"
                          HorizontalContentAlignment="Center"
                          DisplayMemberPath="Description"
                          SelectedIndex="0"
                          SelectedValuePath="Value" />

                <Label VerticalAlignment="Center"
                       Content="内容:"
                       FontSize="14" />
                <TextBox x:Name="txtSearchContent"
                         Width="200"
                         VerticalAlignment="Center" />

                <Label VerticalAlignment="Center"
                       Content="时间范围:"
                       FontSize="14" />
                <DatePicker x:Name="dpStartTime"
                            Width="120"
                            VerticalAlignment="Center" />
                <Label VerticalAlignment="Center"
                       Content="-"
                       FontSize="14" />
                <DatePicker x:Name="dpEndTime"
                            Width="120"
                            VerticalAlignment="Center" />

                <Button x:Name="btnSearch"
                        Width="80"
                        Height="26"
                        Margin="10,0"
                        VerticalAlignment="Center"
                        Content="查询" />
            </StackPanel>
        </Border>

        <!--  列表  -->
        <ListView x:Name="lstResources"
                  Grid.Row="2"
                  Grid.Column="0"
                  Grid.ColumnSpan="6"
                  TextElement.FontSize="14">
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="auto" Header="源">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding EventSource}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="auto" Header="组">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding EventGroup}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="auto" Header="级别">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Level}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="1000" Header="内容">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Content}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="auto" Header="操作人">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding CreateUser}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="auto" Header="时间">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding CreateTime, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>

        <!--  分页信息  -->
        <StackPanel Grid.Row="3"
                    Grid.Column="0"
                    Grid.ColumnSpan="1"
                    Orientation="Horizontal">
            <Label Width="Auto"
                   VerticalAlignment="Center"
                   Content="当前页码"
                   FontSize="14" />
            <TextBlock x:Name="txtPageIndex"
                       Width="40"
                       VerticalAlignment="Center" />
        </StackPanel>

        <StackPanel Grid.Row="3"
                    Grid.Column="1"
                    Orientation="Horizontal">
            <Label Width="Auto"
                   VerticalAlignment="Center"
                   Content="总数"
                   FontSize="14" />
            <TextBlock x:Name="txtTotal" VerticalAlignment="Center" />
        </StackPanel>

        <!--  分页按钮  -->
        <StackPanel Grid.Row="3"
                    Grid.Column="2"
                    Grid.ColumnSpan="4"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
            <Button x:Name="btnPrevPage"
                    Width="150"
                    Content="上一页" />
            <Button x:Name="btnNextPage"
                    Width="150"
                    Content="下一页" />
            <Button x:Name="btnReload"
                    Width="150"
                    Content="刷新" />
        </StackPanel>

    </Grid>
</UserControl>
