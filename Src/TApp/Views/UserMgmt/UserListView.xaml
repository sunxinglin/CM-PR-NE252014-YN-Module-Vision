<UserControl
    x:Class="TApp.Views.UserMgmt.UserListView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lang="clr-namespace:VisDummy.Lang;assembly=VisDummy.Lang"
    xmlns:local="clr-namespace:TApp.Views.UserMgmt"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="self"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <ListView
            x:Name="lstUsers"
            Grid.Row="1"
            Grid.Column="0"
            Grid.ColumnSpan="5"
            TextElement.FontSize="14">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Id">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Id}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="{Binding [账号], Source={x:Static lang:LanguageManager.Instance}}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Account}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="{Binding [名称], Source={x:Static lang:LanguageManager.Instance}}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="{Binding [状态], Source={x:Static lang:LanguageManager.Instance}}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Status}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="Auto" Header="{Binding [权限], Source={x:Static lang:LanguageManager.Instance}}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <ItemsControl ItemsSource="{Binding UserClaims}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel Orientation="Horizontal" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <!--<CheckBox  Content="{Binding ClaimEntity.ClaimValue, Mode=OneWay}" IsChecked="{Binding Checked}" ></CheckBox>-->
                                            <Label Content="{Binding ClaimEntity.ClaimValue}" />
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="Auto" Header="{Binding [操作], Source={x:Static lang:LanguageManager.Instance}}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Button
                                    Command="{Binding ViewModel.CmdDisableAccount, ElementName=self}"
                                    CommandParameter="{Binding .}"
                                    Content="{Binding [删除], Source={x:Static lang:LanguageManager.Instance}}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>


        <StackPanel
            Grid.Row="2"
            Grid.Column="0"
            Grid.ColumnSpan="1"
            Orientation="Horizontal">
            <Label
                Width="Auto"
                Content="{Binding [当前页码], Source={x:Static lang:LanguageManager.Instance}}"
                FontSize="14" />
            <TextBox x:Name="txtPageIndex" VerticalAlignment="Center" />
        </StackPanel>

        <StackPanel
            Grid.Row="2"
            Grid.Column="1"
            Orientation="Horizontal">
            <Label
                Width="Auto"
                Content="{Binding [总页数], Source={x:Static lang:LanguageManager.Instance}}"
                FontSize="14" />
            <TextBlock x:Name="txtTotalPages" />
        </StackPanel>
        <Button
            x:Name="btnPrevPage"
            Grid.Row="2"
            Grid.Column="2"
            Width="150"
            Content="{Binding [上一页], Source={x:Static lang:LanguageManager.Instance}}" />
        <Button
            x:Name="btnNextPage"
            Grid.Row="2"
            Grid.Column="3"
            Width="150"
            Content="{Binding [下一页], Source={x:Static lang:LanguageManager.Instance}}" />
        <Button
            x:Name="btnRefresh"
            Grid.Row="2"
            Grid.Column="4"
            Width="150"
            Content="{Binding [刷新], Source={x:Static lang:LanguageManager.Instance}}" />
    </Grid>
</UserControl>
